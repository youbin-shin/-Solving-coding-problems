# 재귀 문제 익히기

### 1952. [모의 SW 역량테스트] 수영장

```python
def swim(n, price, d, m, m3):
    global minPrice
    if n > 12:
        if minPrice > price:
            minPrice = price
    elif price >= minPrice: # 이미 최소비용이 넘어갔기에 제외! (가지치기)
        return
    else:
        swim(n + 1, price + min(d*plan[n], m), d, m, m3) # n월 1일권과 1달권 비교
        swim(n + 3, price + m3, d, m, m3) # n월 3달 이용권

for t in range(1, int(input())+1):
    d, m, m3, y = map(int, input().split())
    plan = [0] + list(map(int, input().split()))
    minPrice = y
    swim(1, 0, d, m, m3)
    print('#{} {}'.format(t, minPrice))
```

### 4008. [모의 SW 역량테스트] 숫자 만들기

- 음수에 대한 나눗셈 _ python 기준

  ```python
  a, b = -3, 2
  print(a//b) # -2
  print(int(a/b)) # -1, 현재 문제에서 사용할 경우
  if a < 0:
      print(-(abs(a)//b)) # -1
  else:
      print(a//b)
  ```

- 최대 최소 0으로 초기화하는 버릇 X

  문제에서 주어진 범위를 기준으로 초기화시켜주기

  ex) minV = 1000000, maxV = -10000000

```python
def cal(n, N, V, op1, op2, op3, op4):
    global minV, maxV
    if n == N:
        if V < minV:
            minV = V
        if V > maxV:
            maxV = V
    else:
        if op1 > 0:
            cal(n+1, N, V+nums[n], op1-1, op2, op3, op4)
        if op2 > 0:
            cal(n+1, N, V-nums[n], op1, op2-1, op3, op4)
        if op3 > 0:
            cal(n+1, N, V*nums[n], op1, op2, op3-1, op4)
        if op4 > 0:
            cal(n+1, N, int(V/nums[n]), op1, op2, op3, op4-1)

for t in range(1, int(input())+1):
    N = int(input())
    op1, op2, op3, op4 = map(int, input().split())
    nums = list(map(int, input().split()))
    minV = 100000000; maxV = -100000000
    cal(1, N, nums[0], op1, op2, op3, op4)
    print('#{} {}'.format(t, maxV-minV))
```

### 1861. 정사각형 방

```python
# My code
# 재귀함수 이용
# 문제는 통과할 수 있더라도 값의 크기가 커지면 재귀 호출 error 발생
# but, 코드 작성 연습 필요

def move(k, x, y, cnt):
    global fcnt, fk
    dir = [[-1, 0], [0, 1], [1, 0], [0, -1]]
    for i in range(4):
        nx = x+dir[i][0]
        ny = y+dir[i][1]
        if 0<= nx <N and 0<= ny <N and room[x][y]+1==room[nx][ny]:
            move(k, nx, ny, cnt+1)
    else:
        if cnt > fcnt:
            fcnt = cnt
            fk = k
        if fcnt == cnt and k < fk:
            fk = k

for t in range(1, int(input())):
    N = int(input())
    room = [list(map(int, input().split())) for _ in range(N)]
    fcnt = 0
    fk = N*N
    for x in range(N):
        for y in range(N):
            move(room[x][y], x, y, 0)
    print('#{} {} {}'.format(t, fk, fcnt+1))
```

```python
# solution 2
# visited 이용, 시간 짧게 걸림
dr = [0, 0, 1, -1]
dc = [1, -1, 0, 0]

for t in range(int(input())):
    N = int(input())
    board = [list(map(int, input().split())) for _ in range(N)]
    result = 0
    result_num = 987654321
    visited = [0] * (N**2 + 2)
    for r in range(N):
        for c in range(N):
            for i in range(4):
                nr = r + dr[i]
                nc = c + dc[i]
                if 0<=nr<N and 0<=nc<N and board[nr][nc]-board[r][c]==1:
                    visited[board[nr][nc]] = 1
    i = 1
    cnt = 0
    idx = 1
    while i <= N ** 2+1:
        if visited[i] == 1:
            cnt += 1
            i += 1
            continue
        else:
            if cnt > result:
                result = cnt
                result_num = idx
            if cnt == result:
                if result_num > idx:
                    result_num = idx
            cnt = 0
            i += 1
            idx = i

    print('#{} {} {}'.format(t+1, result_num-1, result+1))
```

```python
# teacher solution
# solution2와 동일한 방법
# 더 간결하게 해결한 것 집중해서 공부하기

dr = [0, 0, 1, -1]
dc = [1, -1, 0, 0]

for t in range(1, int(input())+1):
    N = int(input())
    room = [list(map(int, input().split())) for _ in range(N)]
    v = [0] * (N * N + 1)
    
    for i in range(N):
        for j in range(N):
            for k in range(4):
                nr = i + dr[k]
                nc = j + dc[k]
                if 0<=nr<N and 0<=nc<N and room[i][j] + 1 == room[nr][nc]:
                    v[room[i][j]] = 1
    cnt = 0
    maxV = 0
    st = 0
    for i in range(N*N, -1, -1): # v[0] 까지 확인
        if v[i] == 1:
            cnt += 1
        else:
            if maxV <= cnt:
                maxV = cnt
                st = i+1
            cnt = 0
    print('#{} {} {}'.format(t, st, maxV + 1))
```

### 1865. 동철이의 일 분배 

```python
# 재귀를 이용한 순열
# 기본 코드 형태
def f(n, k):
    if n == k:
        ...
    else:
        for i in range(k):
            if used[i] == 0:
                used[i] = 1
                p[n] = a[i]
                f(n+1, k)
                used[i] = 0 # ★ 간과하고 있었던 부분
```

- 재귀로 완전탐색을 할 경우 펙토리얼이기에 16! = 20,922,789,888,000 무리..

```python
def select(n, N, result, visit):
    global fresult
    if n == N:
        if fresult < result:
            fresult = result

    if fresult >= result: # = 가 없으면 fail!!★
        return
    else:
        for i in range(N):
            if visit[i] == 0:
                visit[i] = 1
                select(n+1, N, result*P[i][n]/100, visit)
                visit[i] = 0

for t in range(1, int(input()) + 1):
    N = int(input())
    P = [list(map(int, input().split())) for _ in range(N)]
    fresult = 0
    visit = [0] * N
    select(0, N, 1, visit)
    print('#{} {:.6f}'.format(t, fresult*100))
```

- visit 을 global로 선언하면 함수 인수로 넣지 않아도 된다.

### 2819. 격자판의 숫자 이어 붙이기

### 3752. 가능한 시험 점수





### 

### 















